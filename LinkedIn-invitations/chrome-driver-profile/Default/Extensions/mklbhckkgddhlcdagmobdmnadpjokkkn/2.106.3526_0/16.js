(self.webpackChunkguru_ui=self.webpackChunkguru_ui||[]).push([[16],{99244:function(e,t,a){a(51223)("flatMap")},27760:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ae}});a(33948);var s=a(67294),i=a(27361),r=a.n(i),n=a(13512),l=a(94184),o=a.n(l),c=a(45697),d=a.n(c),u=a(19887),h=a(23279),m=a.n(h),v=a(11609),p=a(65185),f=a(30065),E=a(81594),g=a(66674),L=a(51879),S=a(79136),Z=a(91717),P=a(81899),_=a(24594),N=a(27434);const{black:w}=N.Z;function I(e){let{lists:t,onListSelect:a,selectedListId:i,newListModalTargetRef:r,handleClickOutside:n,handleCreateList:l,handleUpdateListName:c,newListName:d}=e;const[u,h]=s.useState(""),[N,I]=s.useState(t),[C,y]=s.useState(!1),[F]=(0,E.Z)(),O=(0,Z.bS)(F),A=o()("ghq-FavoriteListSelectionMenuNewListModal",{"ghq-is-right":O===f.XB,"ghq-is-left":O===f.e7}),M=(0,g.Z)(n,[".ghq-FavoriteListSearch__header",".ghq-FavoriteListSearch__delete-toggle-action"]),R=e=>{const a=t.filter((t=>t.title.split(" ").join("").toLowerCase().includes(e.split(" ").join("").toLowerCase()))).sort(((e,t)=>e.defaultList?-1:t.defaultList||e.title.toLowerCase()>t.title.toLowerCase()?1:-1));I(a)},T=s.useCallback(m()((e=>R(e)),400),[]);s.useEffect((()=>{R(u)}),[t]);return s.createElement("div",{className:"ghq-FavoriteListSelectionMenu",ref:M},s.createElement("div",{className:"ghq-FavoriteListSelectionMenu__search-input"},s.createElement(_.Z,{autofocus:!0,tabIndex:"0",placeholder:"Search for a list",value:u,onChange:e=>(e=>{h(e),T(e)})(e)})),s.createElement("div",{className:"ghq-FavoriteListSelectionMenu__items"},N.length>0?N.map((e=>s.createElement("label",{className:"ghq-FavoriteListSelectionMenu__item ".concat(i===e.id?"ghq-is-selected":""),key:e.id,tabIndex:"0",onKeyDown:t=>{((e,t)=>{"Enter"===t.key&&(t.preventDefault(),a(e))})(e.id,t)}},s.createElement("span",{className:"ghq-FavoriteListSelectionMenu__selected-icon"},i===e.id&&s.createElement(v.Z,{color:w,icon:"check",size:16})),s.createElement("input",{type:"radio",value:e.title,checked:e.selected,onChange:()=>a(e.id)}),e.title))):s.createElement("p",{className:"ghq-FavoriteListSelectionMenu__search--no-results"},"No lists found")),s.createElement("div",{className:"ghq-FavoriteListSelectionMenu__controls"},s.createElement(P.Z,{icon:"circle-plus",kind:P.Z.kinds.PRIMARY,size:P.Z.sizes.LARGE,onClick:()=>y(!0)},"New List")),C&&s.createElement(L.Z,{target:r.current,preferredXPosition:O===f.e7?p.RL:p.pX},s.createElement("div",{className:A},s.createElement(S.Z,{title:"Create New List",newListName:d||"",handleInputChange:c,handleCreateList:l,onClickClose:()=>y(!1)}))))}I.propTypes={handleCreateList:d().func.isRequired,handleUpdateListName:d().func.isRequired,onListSelect:d().func,selectedListId:d().string,lists:d().arrayOf(d().shape({title:d().string,id:d().string})),newListModalTargetRef:d().object,newListName:d().string},I.defaultProps={onListSelect:()=>{},lists:[],newListName:""};var C=a(47640),y=a(55978);const{twilight:F}=N.Z;function O(e){let{onClickClose:t,onClickOpen:a,cardCount:i}=e;return s.createElement("div",{className:"OpenAllCardsModal"},s.createElement("div",{className:"OpenAllCardsModal__top-bar"},s.createElement("h1",{className:"OpenAllCardsModal__top-bar-title"},"Open All Cards"),s.createElement(v.Z,{className:"OpenAllCardsModal__top-bar-close",icon:"close",size:14,color:F,onClick:()=>t()})),s.createElement("div",{className:"OpenAllCardsModal__content"},"Are you sure you want to open ",i," Cards at once?"),s.createElement("div",{className:"OpenAllCardsModal__bottom-bar"},s.createElement(y.Z,{alignment:y.Z.alignments.right},s.createElement(P.Z,{kind:P.Z.kinds.GRAY,size:P.Z.sizes.MEDIUM,onClick:()=>t()},"Cancel"),s.createElement(C.Z,{kind:C.Z.kinds.PRIMARY,size:C.Z.sizes.MEDIUM,onClick:()=>a()},"Open Cards"))))}var A=a(31439),M=a(76462),R=a(68897),T=a(12713),D=a(2803),k=a(32195),b=a(50811),x=a(76030),q=a(21650),G=a(40510);var V=e=>{let{list:{title:t,id:a},handleDelete:i,onClickClose:r}=e;const n=" ".concat(t,". "),{t:l}=(0,u.$G)(),o=(0,g.Z)(r),c=()=>s.createElement(k.ZP,{aria:l("common.close"),icon:x.Z.Close,style:k.Dd.Standard,onClick:r});return s.createElement("div",{className:"DeleteListModal",ref:o},s.createElement(G.ZP,null,s.createElement(G.MM,{appendage:s.createElement(c,null)},l("modals.deleteList.heading")),s.createElement(G.R3,null,s.createElement(q.ZP,null,l("modals.deleteList.deleteMessage")," ",s.createElement("strong",null,n)),s.createElement(q.ZP,{style:q.Jo.Bold},l("modals.deleteList.warningNotice"))),s.createElement(G.v3,null,s.createElement(b.Z,{alignment:b.A.Right},s.createElement(D.ZP,{label:l("common.cancel"),style:D.ZJ.Text,theme:D.bn.Gray,onClick:r}),s.createElement(D.ZP,{label:l("common.delete"),theme:D.bn.Destructive,onClick:()=>i(a)})))))},U=a(37540),H=a(7230),B=a(18633),Y=a(25108);const z="CLOSE_CONFIRM_DELETE",J="CLOSE_MENUS",X="CONFIRM_DELETE",W="RENAME_LIST",j="TOGGLE_LISTS_MENU",Q="UPDATE_LIST_NAME",$="CLOSED",K="CONFIRMING_DELETION",ee="RENAMING",te="VIEWING_LISTS";function ae(e,t){let{type:a,payload:s}=t;switch(a){case X:return{...e,activeMenuView:K};case z:return{...e,activeMenuView:$};case J:return{newListName:null,activeMenuView:$};case j:return{...e,activeMenuView:e.activeMenuView===te?$:te};case W:return{...e,activeMenuView:ee};case Q:return{...e,newListName:s.newListName};default:Y.error("Unknown Favorite List Action")}}function se(e){let{lists:t,activeList:a,facts:i,setActiveList:r}=e;const[n,l]=s.useState(!1),[c,d]=s.useState(!1),[h,m]=s.useState(!1),[v,P]=s.useReducer(ae,{newListName:null,activeMenuView:$}),{t:_}=(0,u.$G)(),N=s.useRef({}),[w]=(0,E.Z)(),C=(0,Z.bS)(w),y=o()("ghq-FavoriteListSearchOpenCardsModal",{"ghq-is-right":C===f.XB,"ghq-is-left":C===f.e7}),F=a.id;function b(){P({type:z}),m(!1)}const q=(0,g.Z)(b,[".ghq-FavoriteListSearch__header",".ghq-FavoriteListSearch__delete-toggle-action",".ghq-FavoriteListSearch__delete-list-modal-container",".ghq-FavoriteListSearch__list-select-menu",".ghq-FavoriteListSearch__rename-list-modal-container"]);const G=0===i.length,Y=e=>{d(e)};const se=s.createElement(k.ZP,{aria:"more-options",ariaHasPopup:!0,ariaExpanded:c,style:k.Dd.Standard,icon:x.Z.DotsVertical,disabled:a.defaultList,tooltipLabel:"More options",tooltipPosition:k.DU.Left,onClick:a.defaultList?null:Y,onToggle:Y});return s.createElement("div",{className:"ghq-FavoriteListSearch"},s.createElement(D.ZP,{ariaHasPopup:"true",ref:N,style:D.ZJ.Text,theme:D.bn.Gray,ariaExpanded:h,iconAlignment:D.vQ.Right,icon:h?x.Z.ChevronUp:x.Z.ChevronDown,label:a.title,onClick:()=>(m(!h),P(h?{type:J}:{type:j}))}),v.activeMenuView===te&&s.createElement("div",{className:"ghq-FavoriteListSearch__list-select-menu"},s.createElement(I,{lists:t,selectedListId:F,newListModalTargetRef:N,handleClickOutside:()=>{P({type:J})},handleCreateList:()=>{M.Z.post(T.GLOBAL,{data:JSON.stringify({title:v.newListName}),success:e=>{let{data:t}=e;M.Z.mergeFilterMeta(T.GLOBAL,{activeListID:t.id})}}),P({type:J})},handleUpdateListName:e=>P({type:Q,payload:{newListName:e}}),newListName:v.newListName,onListSelect:function(e){r(e),P({type:J}),m(!1)}})),s.createElement("div",{className:"ghq-FavoriteListSearch__actions"},s.createElement(k.ZP,{aria:"open-all-cards",style:k.Dd.Standard,icon:x.Z.Launch,disabled:G,tooltipLabel:"Open all Cards",tooltipPosition:k.DU.Left,onClick:()=>{i.length>=10?l(!0):i.forEach((e=>{A.Z.openFact(e.id)}))}}),s.createElement(H.Z,{trigger:se,ref:q},s.createElement(U.ZP,{ariaLabel:"menu-example"},s.createElement(U.sN,{onClick:()=>a.defaultList?null:P({type:W})},"Edit list name"),s.createElement(U.sN,{borderTop:!0,kind:U.zf.Destructive,onClick:()=>a.defaultList?null:P({type:X})},"Delete list"),a.defaultList&&s.createElement("div",{className:"ghq-FavoriteListSearch__more-options-menu-default-message"},s.createElement(B.Z,null,"Your default list cannot be renamed or deleted."))))),v.activeMenuView===K&&s.createElement("div",{className:"ghq-FavoriteListSearch__delete-list-modal-container"},s.createElement(V,{list:{title:a.title,id:a.id},handleDelete:function(e){R.Z.delete(T.GLOBAL,{pathVars:[e],success:()=>{if((null==a?void 0:a.id)===e){var s;const e=null===(s=t.find((e=>e.defaultList)))||void 0===s?void 0:s.id;M.Z.mergeFilterMeta(T.GLOBAL,{activeListID:e})}M.Z.get(T.GLOBAL)}}),P({type:z})},onClickClose:b})),v.activeMenuView===ee&&s.createElement("div",{className:"ghq-FavoriteListSearch__rename-list-modal-container"},s.createElement(S.Z,{title:_("modals.newList.heading"),newListName:null===v.newListName?a.title:v.newListName,handleClickOutside:()=>P({type:J}),handleCreateList:function(){R.Z.put(T.GLOBAL,{pathVars:[a.id],data:JSON.stringify({title:v.newListName}),success:()=>{M.Z.get(T.GLOBAL)}}),P({type:J})},handleInputChange:e=>P({type:Q,payload:{newListName:e}}),onClickClose:()=>P({type:J})})),n&&s.createElement(L.Z,{target:N.current,preferredXPosition:C===f.e7?p.RL:p.pX},s.createElement("div",{className:y},s.createElement(O,{cardCount:i.length,onClickOpen:()=>{i.forEach((e=>{A.Z.openFact(e.id)})),l(!1)},onClickClose:()=>l(!1)}))))}se.propTypes={activeList:d().object,lists:d().array,facts:d().array,setActiveList:d().func},se.defaultProps={activeList:{},lists:[],facts:[],setActiveList:()=>{}};var ie=a(19904),re=a(77541),ne=a(16926),le=a(80100),oe=a(54159),ce=a(17029),de=a.n(ce),ue=a(42584),he=a.n(ue),me=a(4439),ve=a(72431),pe=a(74173),fe=a(55173),Ee=a(95587),ge=a(47191),Le=a(21781),Se=a(23525),Ze=a(67411),Pe=a(93351),_e=a(77843),Ne=a(42237),we=a(94049),Ie=a(12022),Ce=a(39429);function ye(e){let{userId:t}=e;const{following:a,fetchNextPageOfFollowing:i,isLoading:r,followData:{followingCount:n}}=(0,_e.Z)(t),l=!r&&0===n,o=l?[]:a.filter((e=>e.user)).map((e=>{var t;return{userId:null===(t=e.user)||void 0===t?void 0:t.id,...e.user}}));return s.createElement(s.Fragment,null,l?s.createElement(Ne.Z,{type:Pe.n0.PEOPLE}):s.createElement("div",{className:"FollowerListSearch"},s.createElement(Ie.Z,{spacing:Ie.Z.spaces.TIGHT},s.createElement(we.Z,{data:o}),s.createElement(Ze.h,{onEnter:()=>i()}))),r&&s.createElement("div",{className:"FollowingAuthorsList__loader"},s.createElement(Ce.ZP,{dataTestId:"followingAuthorsList-loader"})))}const Fe=()=>T.GLOBAL;class Oe extends s.PureComponent{constructor(e){super(e),this.loadNextPage=()=>{const{explicit:e}=this.props,t=e.linkHeaders["next-page"];re.Z.search(e.id,{linkHeader:t})},this.loadFavoriteLists=()=>{M.Z.get(Fe(),{success:e=>{var t;const a=null===(t=e.data.find((e=>e.defaultList)))||void 0===t?void 0:t.id;M.Z.mergeFilterMeta(Fe(),{activeListID:a})}})},this.loadFavoriteListsList=()=>{const{activeListID:e}=this.props;e&&R.Z.get(e,{pathVars:[e]})},this.postFavoritesViewedActivity=()=>{var e;const{activeListID:t,favoritelists:a}=this.props,s=null===(e=a.find((e=>e.id===t)))||void 0===e?void 0:e.defaultList;t&&ie.Z.postActivity({type:Se.default.FAVORITES_VIEWED,properties:{},biOnly:!0},{headers:{[le.Kg]:JSON.stringify([{featureName:ne.Z.FAVORITE_LISTS,data:{listId:t,isDefault:Boolean(s)}}])}})},this.clearSearch=()=>{const{explicit:e}=this.props;re.Z.setSearchParams(e.id,[],!1,!0),re.Z.search(e.id,{})},this.filterByFavorites=e=>{const{cachedSearchParams:t}=this.state;let a=[...t];e?a.splice(-1,0,{type:"myfavorite"}):a=a.filter((e=>"myfavorite"!==e.type)),re.Z.setSearchParams(de().EXT_MAIN,a),re.Z.search(de().EXT_MAIN,{favoriteCheckBoxClicked:e})},this.filterMyFollowing=e=>{this.setState({togglePeopleSearch:"card"!==e})},this.setActiveList=e=>{M.Z.mergeFilterMeta(Fe(),{activeListID:e})},this.renderSubActions=()=>{const{savedSearchId:e,explicit:t}=this.props,{hasUserSearch:a,factList:i,cachedSearchParams:r,togglePeopleSearch:n}=this.state,l=r.some((e=>"myfavorite"===e.type)),o=e===oe.Z.MY_FOLLOWED_CARDS;if(a&&(t.status===he().SEARCHING||i.length>0||l))return s.createElement("div",{className:"SearchResults__favorites-input-container"},s.createElement(Le.Z,{name:"display-favorites",isToggled:null!=l&&l,label:"Limit results to my favorite Cards",onChange:this.filterByFavorites}));if(o){const e=o?x.Z.ChevronDown:x.Z.ChevronUp,t=s.createElement(D.ZP,{ariaHasPopup:"true",style:D.ZJ.Text,iconAlignment:D.vQ.Right,theme:D.bn.Gray,icon:e,label:"".concat(n?"Authors":"Cards"," I Follow")});return s.createElement("div",{className:"SearchResults__following-sub-options"},s.createElement(H.Z,{trigger:t},s.createElement("ul",null,s.createElement("li",null,s.createElement(ge.gs,{checked:!n,onClick:()=>this.filterMyFollowing("card")},"Cards"),s.createElement(ge.gs,{checked:n,onClick:()=>this.filterMyFollowing("author")},"Authors")))))}};const{explicit:t}=e;this.searchResultsScroll=s.createRef(),this.state={factList:t.data,hasUserSearch:!1,correctionVisible:!1,setSearchParams:"",correctedTerm:"",resultCount:null,cachedSearchParams:t.searchParams,togglePeopleSearch:!1}}componentDidMount(){const{hasFavoriteLists:e,favoriteListsListStatus:t,savedSearchId:a}=this.props;if(e&&a===oe.Z.MY_FAVORITES)switch(this.loadFavoriteLists(),t){case he().NOT_LOADED:this.loadFavoriteListsList();break;case he().LOADED:this.postFavoritesViewedActivity()}}UNSAFE_componentWillReceiveProps(e){const{explicit:t}=e,{explicit:a}=this.props,s=!t.isRecentViewed&&!t.savedSearch;this.setState({factList:t.data,hasUserSearch:s}),a.status===he().SEARCHING&&t.status===he().SEARCHED&&s&&this.setState({resultCount:t.queryCardCount}),a.status!==he().SEARCHED&&t.status===he().SEARCHED&&this.setState({cachedSearchParams:t.searchParams})}componentDidUpdate(e){let{activeListID:t,favoriteListsListStatus:a,savedSearchId:s}=e;const{activeListID:i,hasFavoriteLists:r,favoritelistsStatus:n,favoriteListsListStatus:l,savedSearchId:o}=this.props;if(!r||o!==oe.Z.MY_FAVORITES)return;const c=t!==i,d=l===he().NOT_LOADED,u=s!==o&&o===oe.Z.MY_FAVORITES;(n===he().NOT_LOADED||u)&&this.loadFavoriteLists(),(c||d||u)&&this.loadFavoriteListsList(),a!==l&&l===he().LOADED&&this.postFavoritesViewedActivity()}renderFilter(){const{hasUserSearch:e,resultCount:t}=this.state;if(e){const e=t?"".concat(t," results"):"Searching...";return s.createElement("div",{className:"SearchResults__results-container"},s.createElement(q.ZP,{style:q.Jo.Bold},e),s.createElement(D.ZP,{label:"clear results",size:D.qE.Medium,style:D.ZJ.Anchor,onClick:this.clearSearch}))}return null}render(){var e,t;const{explicit:a,auth:i,hasFavoriteLists:l,savedSearchId:o,favoritelists:c,favoriteListsList:d,favoriteListsListStatus:u,activeListID:h}=this.props,{factList:m,togglePeopleSearch:v}=this.state,p=c.find((e=>e.id===h)),f=(()=>{switch(!0){case a.searchId:return he().Activities.SEARCH;case o===oe.Z.MY_FAVORITES&&l:return Se.default.FAVORITE_LISTS;default:return he().Activities.BROWSE}})(),E=a.searchId,g=a.searchSessionId,L=this.renderFilter(),S=o===oe.Z.MY_FOLLOWED_CARDS;var Z,P;a.status===he().SEARCHING&&"function"==typeof(null===(e=this.searchResultsScroll)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.scrollTo)&&(null===(Z=this.searchResultsScroll)||void 0===Z||null===(P=Z.current)||void 0===P||P.scrollTo(0,0));return s.createElement("div",{className:"SearchResults__container"},L,this.renderSubActions(),s.createElement("div",{ref:this.searchResultsScroll,className:"SearchResults__scroll"},o===oe.Z.MY_FAVORITES&&l&&s.createElement(se,{activeList:{title:null==p?void 0:p.title,id:null==p?void 0:p.id,defaultList:null==p?void 0:p.defaultList},facts:d,lists:c,setActiveList:this.setActiveList}),v&&S?s.createElement(ye,{userId:i.data.id,explicit:a,searchId:E,searchSessionId:g}):s.createElement(n.Z,{facts:o===oe.Z.MY_FAVORITES&&l?d:m,isQuickSearch:a.quickSearch,isFavoriteList:o===oe.Z.MY_FAVORITES&&l,factsStatus:o===oe.Z.MY_FAVORITES&&l?u:a.status,activity:f,searchId:E,searchSessionId:g,favoriteListId:h,savedSearchId:o,linkHeaders:a.linkHeaders,loadNextPage:this.loadNextPage,showPreview:JSON.parse(r()(i,"data.preferences.showFactPreview","true"))})))}}var Ae=(0,me.Z)((()=>{const e=ve.Z.getById(de().EXT_MAIN),t=r()(e,"savedSearch.id",null),{items:{editData:a},meta:{activeListID:s},status:i}=fe.Z.getFilter(Fe()),{editData:{items:n=[]},status:l}=pe.Z.getFilter(s);return{explicit:e,hasFavoriteLists:Ee.Z.hasFavoriteLists(),savedSearchId:t,favoritelists:a,favoritelistsStatus:i,favoriteListsList:n,favoriteListsListStatus:l,activeListID:s}}),Fe)([ve.Z,Ee.Z,pe.Z,fe.Z],Oe)},13512:function(e,t,a){"use strict";a.d(t,{Z:function(){return v}});a(33948);var s=a(67294),i=a(67411),r=a(93390),n=a(42584),l=a(68897),o=a(3486),c=a(13011),d=a(47111),u=a(74173);var h=a(46763),m=a(18512);var v=e=>{let{activity:t,activityId:a,searchId:v,searchSessionId:p,favoriteListId:f,showPreview:E,loadNextPage:g,linkHeaders:L,factsStatus:S,isFavoriteList:Z,isQuickSearch:P,facts:_=[],savedSearchId:N}=e;const[,w]=function(e){const[t]=(0,c.Z)(o.Z.FAVORITE_LISTS_ALLOWED),[a,s]=(0,d.Z)({filterId:e,store:u.Z,actions:l.Z,onMustLoad:a=>{t&&e&&a.get({pathVars:[e]})}});return[a,s]}(f),[I,C]=s.useState(),y=e=>{e!==I&&(C(e),g())},F=[];if(_.length){const e=_.findIndex(((e,i)=>{let r=e.id;e.fact&&(r=e.fact.id);const n=!e.type||"fact"===e.type,l=!Z||e.favoritedDate;return!n||!l||(F.push(s.createElement(h.Z,{key:r,id:r,fact:e,activity:t,activityId:a,searchPosition:i,searchId:v,searchSessionId:p,savedSearchId:N,allowPreview:E,popoverFilterId:"".concat(r,"-search-popover")})),!1)})),r=()=>{if(S!==n.LOADED)return;const t=_.slice(e,Math.min(e+50,_.length+1)).map((e=>e.id));w.loadMoreFavoriteListItems(t)};if(L&&L["next-page"]&&!P||e>=0){const e=Z?r:y,t=Z||null==L?void 0:L["next-page"].token;F.push(s.createElement(i.h,{key:"waypoint",onEnter:()=>{e(t)}}))}S===n.ITEMS_LOADING&&F.push(s.createElement(h.Z,{key:"loading-items",fact:{status:n.LOADING},popoverFilterId:"loading-search-popover"}))}else F.push(s.createElement(m.Z,{key:"search-hint",view:m.L.NO_SEARCH_RESULTS,searchState:S,savedSearchId:N}));const O=!P&&S===n.SEARCHING||Z&&S===n.UPDATING;return s.createElement("div",{className:"ghq-FactList"},s.createElement("div",{className:"ghq-FactList__reloader-container"},s.createElement(r.Z,{isReloading:O})),s.createElement("div",{"aria-live":"polite",className:"ghq-FactList__cards"},F))}},68897:function(e,t,a){"use strict";var s=a(2514),i=a(57922),r=a(47421),n=a(29857),l=a(74173),o=a(25108);const c=n.Z.getFlux().dispatcher,d=new s.Z({name:l.Z.getName(),boundActions:{loadMoreFavoriteListItems(e,t){i.ZP.callApi(c,r.LOAD_MORE_FAVORITE_LIST_ITEMS,"/cards/bulk",{type:"POST",contentType:"application/json",data:JSON.stringify({ids:t})},{filterId:e,ids:t})}}}),u=n.Z.getFlux().actions[d.name];u||o.error("Error creating actions"),t.Z=u},76462:function(e,t,a){"use strict";var s=a(2514),i=a(29857),r=a(55173),n=a(25108);const l=new s.Z({name:r.Z.getName()}),o=i.Z.getFlux().actions[l.name];o||n.error("Error creating actions"),t.Z=o},81594:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});a(33948);var s=a(73424),i=a(27949),r=a(5257);function n(){const[e,t]=(0,i.Z)({store:r.Z,actions:s.Z});return[e,t]}},74983:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});a(33948);var s=a(76462),i=a(3486),r=a(12713),n=a.n(r),l=a(13011),o=a(47111),c=a(55173);function d(){const[e]=(0,l.Z)(i.Z.FAVORITE_LISTS_ALLOWED);return(0,o.Z)({filterId:n().GLOBAL,store:c.Z,actions:s.Z,onMustLoad:t=>{e&&t.get()}})}},77843:function(e,t,a){"use strict";a(33948),a(99244);var s=a(85945),i=a(98596),r=a(36492),n=a(64469),l=a(27998),o=a(31954);const c=new l.Z,d=async(e,t)=>await c.getPaginated({path:"/users/".concat(e,"/following"),queryParams:t?{token:t}:void 0}).catch((e=>{if(new RegExp(/404/).test(e.message))return{data:[],token:void 0}})),u=async(e,t)=>await c.getPaginated({path:"/users/".concat(e,"/followers"),queryParams:t?{token:t}:void 0}).catch((e=>{if(new RegExp(/404/).test(e.message))return{data:[],token:void 0}})),h=async e=>c.get({path:"/users/".concat(e,"/follows")}),m=async e=>{let{id:t,isFollowing:a,variables:s={}}=e;const i={path:"/users/".concat(t,"/follow"),activityHeaders:s.activityHeaders};return a?c.delete(i):c.put(i)},v=(e,t)=>["PersonFollows",e,t];t.Z=function(e){var t,a;let l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const c=(0,s.NL)(),[{data:{id:p}}]=(0,o.Z)(),{data:f,isLoading:E,refetch:g,fetchNextPage:L}=(0,i.N)(v(e,"following"),(t=>d(e,t.pageParam)),{getNextPageParam:e=>null==e?void 0:e.token,enabled:l}),{data:S,isLoading:Z,refetch:P,fetchNextPage:_}=(0,i.N)(v(e,"followers"),(t=>u(e,t.pageParam)),{getNextPageParam:e=>null==e?void 0:e.token,enabled:l}),{data:N,isLoading:w,refetch:I}=(0,r.a)(v(e,"data"),(()=>h(e)),{enabled:l}),C=(0,n.D)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m({id:e,isFollowing:t.isFollowedByCurrentUser||(null==N?void 0:N.isFollowedByCurrentUser),variables:t})}),{onSuccess:(e,t)=>{null!=t&&t.callback?t.callback():(c.invalidateQueries(v(p,"following")),c.invalidateQueries(v(p,"followers")),c.invalidateQueries(v(p,"data")),P(),g(),I())}});return{isLoading:E||w||Z,following:null!==(t=null==f?void 0:f.pages.flatMap((e=>e.data)))&&void 0!==t?t:[],followers:null!==(a=null==S?void 0:S.pages.flatMap((e=>e.data)))&&void 0!==a?a:[],followData:null!=N?N:{},fetchNextPageOfFollowers:_,fetchNextPageOfFollowing:L,followPerson:C.mutate,refetchFollowData:I}}},79136:function(e,t,a){"use strict";var s=a(67294),i=a(19887),r=a(80007),n=a(66674),l=a(2803),o=a(32195),c=a(50811),d=a(24594),u=a(76030),h=a(40510);t.Z=e=>{let{handleClickOutside:t,handleCreateList:a,handleInputChange:m,onClickClose:v,newListName:p="",title:f=(0,r.Z)("modals.newList.defaultHeading")}=e;const E=p.length<1,g=p.length>25,L=(0,n.Z)(t,[]),{t:S}=(0,i.$G)(),Z=()=>s.createElement(o.ZP,{aria:S("common.close"),icon:u.Z.Close,style:o.Dd.Standard,onClick:v});return s.createElement("div",{className:"NewListModal",ref:L},s.createElement(h.ZP,null,s.createElement(h.MM,{appendage:s.createElement(Z,null)},f),s.createElement(h.R3,null,s.createElement(d.Z,{autofocus:!0,label:S("modals.newList.inputLabel"),value:p,name:"newList",placeholder:S("modals.newList.placeholder"),maxCharacterCount:25,onChange:m})),s.createElement(h.v3,null,s.createElement(c.Z,{alignment:c.A.Right},s.createElement(l.ZP,{label:S("common.cancel"),style:l.ZJ.Text,theme:l.bn.Gray,onClick:v}),s.createElement(l.ZP,{disabled:E||g,label:S("modals.newList.saveListButtonLabel"),theme:l.bn.Primary,onClick:a})))))}},42237:function(e,t,a){"use strict";var s=a(67294),i=a(93351),r=a(22265),n=a(82280),l=a(2803),o=a(21650);const c={[i.n0.BOARDS]:"Boards",[i.n0.CARDS]:"Cards"};t.Z=e=>{let{type:t}=e;return s.createElement("div",{className:"UpdatedNoSearchResults"},s.createElement("img",{src:n.Z.getURL("common/images/no-items.svg")}),s.createElement("div",{className:"UpdatedNoSearchResults__container"},s.createElement(o.ZP,{style:o.Jo.Bold},function(e){return e===i.n0.PEOPLE?"No results found":"No ".concat(c[e]," were found.")}(t)),s.createElement(o.ZP,null,function(e){return e===i.n0.PEOPLE?s.createElement(o.ZP,null,"Try adjusting your search or checking for typos."):s.createElement(o.ZP,null,"Try editing your search, or explore your"," ",s.createElement(l.ZP,{style:l.ZJ.Anchor,url:r.Z.Collections,label:"Team's Collections."}))}(t))))}},94049:function(e,t,a){"use strict";a.d(t,{Z:function(){return S}});var s=a(67294),i=(a(33948),a(3486)),r=a(13011),n=a(54975),l=a(39531),o=a(27008),c=a(35536),d=a(86178),u=a(57682),h=a(47271),m=a(76030),v=a(21650);var p=e=>{let{profile:t,trackEventData:a}=e;const{id:p,firstName:f,lastName:E,profilePicUrl:g,workTeamName:L,userId:S}=t,[Z]=(0,r.Z)(i.Z.ORG_CHART_ALLOWED),[P]=(0,r.Z)(i.Z.EXTENSION_PROFILES_ALLOWED);let _="";t.jobTitle?_=t.jobTitle:L&&(_=L);const N=o.Z.getNameFromModel(t),{onClick:w,to:I}=(0,n.k)(S,P);return s.createElement("div",{className:"SearchResultProfileListItem"},s.createElement(c.Z,{url:I,classes:"SearchResultProfileListItem__link","data-testid":"search_profile--link",trackEvent:a,onClick:()=>P&&w()},s.createElement("div",{className:"SearchResultProfileListItem__image-container"},s.createElement(u.Z,{className:"SearchResultProfileListItem__avatar",size:u.Z.sizes.LARGE,src:g,initials:o.Z.getUsersInitials({firstName:f,lastName:E}),alt:N})),s.createElement("div",{className:"SearchResultProfileListItem__description-container"},s.createElement(v.ZP,{style:v.Jo.Bold},N),s.createElement(v.ZP,null,_))),Z?s.createElement("div",{className:"SearchResultProfileListItem__actions"},s.createElement(h.Z,null,s.createElement(h.S,{aria:"".concat(t.id,"_link-to-org-chart"),tooltipLabel:"Show in Org Chart",icon:m.Z.OrgChart,tooltipPosition:d.DU.Left,url:(0,l.lH)(p)}))):null)},f=a(12022),E=a(23525),g=a(57481),L=a(97374);var S=e=>{let{data:t,searchId:a,searchSessionId:i}=e;const{buildEventData:r}=(0,L.Z)();return s.createElement(s.Fragment,null,t.map((e=>{return s.createElement(f.H,{key:e.id},s.createElement(p,{profile:e,trackEventData:(t=e.id,a=e.userId,r(E.default.PROFILE_VIEWED,{activitySubtype:g.dx.PeopleSearch,activityMetaData:[{featureName:"people_profiles",data:{profileId:t,userId:a,sessionId:i}}]}))}));var t,a})))}},18512:function(e,t,a){"use strict";a.d(t,{L:function(){return h}});a(33948);var s=a(67294),i=a(11609),r=a(3486),n=a(54159),l=a(42584),o=a.n(l),c=a(13011),d=a(74983),u=a(21650);const h={NO_SEARCH_RESULTS:"NO_SEARCH_RESULTS"};t.Z=e=>{let{view:t="",searchState:a,searchedMessage:l="No cards were found.",savedSearchId:m=""}=e;const[{items:{editData:v=[]},status:p}]=(0,d.Z)(),[f,E]=s.useState(!1),[g]=(0,c.Z)(r.Z.FAVORITE_LISTS_ALLOWED);s.useEffect((()=>{const e=v.reduce(((e,t)=>e+t.numberOfFacts),0);E(e>0)}),[v,p]);const L=(()=>{switch(a){case o().SEARCHING:return"Searching...";case o().SEARCHED:case o().LOADED:return m===n.Z.MY_FAVORITES?g&&f?s.createElement("div",null,s.createElement("p",null,"You haven't added any Cards to this list. Click the",s.createElement("span",{className:"ghq-SearchHint__icon-chevron"},s.createElement(i.Z,{size:20,icon:"chevron-right"})),"next to the",s.createElement("span",{className:"ghq-SearchHint__icon"},s.createElement(i.Z,{size:20,icon:"favorite-empty",title:"Favorites"})),"icon on any Card to add it here.")):s.createElement("div",null,s.createElement("p",null,"You haven't Favorited any Cards yet."),s.createElement("p",null,"Click the",s.createElement("span",{className:"ghq-SearchHint__icon"},s.createElement(i.Z,{size:20,icon:"favorite-empty",title:"Favorites"})),"icon on a Card to add it here.")):m||t!==h.NO_SEARCH_RESULTS?l:s.createElement(u.ZP,null,"No cards were found. Try editing your search, or removing any filters you may have applied.");case o().EMPTY_SEARCH:return"You forgot to enter something to search!";default:return"What are you looking for?"}})();return s.createElement("div",{"aria-live":"polite",className:"ghq-SearchHint"},L)}},46763:function(e,t,a){"use strict";a.d(t,{Z:function(){return A}});a(33948);var s=a(67294),i=a(94184),r=a.n(i),n=a(45697),l=a.n(n),o=a(73935),c=a(31439),d=a(32950),u=a(81510),h=a(65185),m=a(30065),v=a(54159),p=a(42584),f=a.n(p),E=a(66934),g=a(4439),L=a(47400);class S extends s.Component{constructor(){super(...arguments),this.renderListCard=()=>s.createElement(L.Z,this.props)}render(){return this.renderListCard()}}var Z=S,P=a(24839),_=a(47482),N=a(95587),w=a(5257),I=a(91717),C=a(25686);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},y.apply(this,arguments)}function F(e){return e===v.Z.DRAFTS}class O extends s.Component{constructor(){super(...arguments),this.state={showPreview:!1,hovered:!1},this.setShowPreview=e=>{const{allowPreview:t,fact:a,previewMessage:s,preferences:i,savedSearchId:r}=this.props,n=(0,I.bS)(i);if(t&&!F(r)){if(e){const e=o.findDOMNode(this),t=e.getBoundingClientRect(),i=e.offsetParent?e.offsetParent.getBoundingClientRect().left:t.left,r=e.offsetParent?e.offsetParent.getBoundingClientRect().right:t.right,{top:l}=t;c.Z.loadPreview(a,!1,a.searchTerm,s,{relativeLeft:n===m.e7?i-10:null,relativeRight:n===m.XB?r+10:null,relativeTop:l})}else c.Z.discardPreview();this.setState({showPreview:e})}},this.isAlreadyOpen=()=>{const{fact:e,cards:t}=this.props,a=t.data[e.id];return!!a&&a.meta.open},this.handleMouseEnter=()=>{const{allowPreview:e,fact:t,openPopover:a,savedSearchId:s}=this.props;this.setState({hovered:!0}),u.ZP.isExtension()&&!F(s)&&(this.isAlreadyOpen()?c.Z.focusFact(t.id):e&&u.ZP.isExtension()&&(this.debouncedOpen=window.setTimeout((()=>{a()}),750)))},this.handleMouseLeave=()=>{const{closePopover:e,savedSearchId:t}=this.props;this.setState({hovered:!1}),u.ZP.isExtension()&&!F(t)&&(this.debouncedOpen&&(window.clearTimeout(this.debouncedOpen),this.debouncedOpen=null),e())},this.renderListDisplayElement=()=>{const{fact:e,activity:t,activityId:a,searchId:i,searchSessionId:r,searchPosition:n,popoverFilterId:l,previewMessage:o,...c}=this.props;return i?s.createElement(Z,{searchId:i,searchSessionId:r,card:e,loadCardMaximized:!u.ZP.isExtension(),activity:t,activityId:a,searchPosition:n,popoverFilterId:l}):s.createElement(L.Z,y({card:e,loadCardMaximized:!u.ZP.isExtension(),activity:t,activityId:a,popoverFilterId:l,previewMessage:o,searchId:i,searchSessionId:r,searchPosition:n},c))},this.setPopoverAnchorTarget=e=>{const{popoverFilterId:t,prefferedPopoverPreviewXPosition:a}=this.props;d.Z.mergeData(t,{anchorProps:{target:e,preferredXPosition:a,preferredYPosition:h.ru}})}}componentDidUpdate(){const{showPreview:e}=this.state;e&&this.isAlreadyOpen()&&this.setShowPreview(!1)}componentWillUnmount(){this.setShowPreview(!1)}render(){const{className:e,fact:t}=this.props,a=r()("ghq-factlist-container",e,"ghq-NewListDisplayCard__container-search-results"),i=!t.status||![f().NOT_LOADED,f().LOADING].includes(t.status),n=this.renderListDisplayElement();return s.createElement("div",{className:a,"data-testid":"Previewable Card",onFocus:()=>{},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},s.createElement("div",{ref:i?this.setPopoverAnchorTarget:()=>{},className:"ghq-NewListDisplayCard__inner-container"},n,s.createElement(C.FN,{className:"ghq-NewListDisplayCard__toast",filter:"PreviewableCard-".concat(t.id)})))}}var A=(0,g.Z)(((e,t)=>{const{activity:a,activityId:s,searchId:i,searchSessionId:r,searchPosition:n,fact:l,savedSearchId:o}=t,d=w.Z.getState();return{cards:_.ZP.getState(),preferences:d,onEdit:()=>{if(!_.ZP.isOpen(l.id))return c.Z.openFact(l.id,{activity:a,activityId:s,searchId:i,searchSessionId:r,searchPosition:n,editing:!0,maximized:!u.ZP.isExtension()});c.Z.setAction(l.id,f().EDITING,{needsEditFact:!0})},hideActions:F(o)}}))([P.Z,_.ZP,N.Z,w.Z],(0,E.Z)(O));O.propTypes={allowPreview:l().bool,hideActions:l().bool,prefferedPopoverPreviewXPosition:l().string},O.defaultProps={allowPreview:!1,hideActions:!1,prefferedPopoverPreviewXPosition:h.RL,openPopover:()=>{},closePopover:()=>{}}},74173:function(e,t,a){"use strict";var s=a(84801),i=a(47421),r=a(42584),n=a(12713),l=a(29857),o=a(27171);s.Z.register(n.FavoriteListsList,{GET:{path:"/favoritelists/:listid"},DELETE:{path:"/favoritelists/:listid"},PUT:{path:"/favoritelists/:listid"}});const c=new o.Z({name:n.FavoriteListsList,syncFilters:!1,dataType:n.OBJECT,boundActions:["".concat(i.LOAD_MORE_FAVORITE_LIST_ITEMS).concat(i._START),function(e){let{filterId:t}=e;this._getFilter(t).syncCapable.status=r.UPDATING,this._onChange()},"".concat(i.LOAD_MORE_FAVORITE_LIST_ITEMS).concat(i._COMPLETE),function(e){let{data:t,context:{filterId:a}}=e;const s=this._getFilter(a);s.syncCapable.status=r.LOADED,Object.keys(t).forEach((e=>{s.syncCapable.data.items.some(((a,s,i)=>a.id===e&&(i[s]=t[e],!0)))})),this._resetEditData(s),this._onChange()}]});c.createStore(),t.Z=l.Z.addStore(c.store)},55173:function(e,t,a){"use strict";var s=a(84801),i=a(12713),r=a(29857),n=a(27171);s.Z.register(i.Favoritelists,{GET:{path:"/favoritelists"},POST:{path:"/favoritelists"}});const l=new n.Z({name:i.Favoritelists});l.createStore(),t.Z=r.Z.addStore(l.store)},21781:function(e,t,a){"use strict";var s=a(67294),i=a(76030),r=a(65680);t.Z=e=>{let{onChange:t,isToggled:a,ariaLabel:n,name:l,label:o,isUtility:c=!1,disabled:d}=e;if(c&&!n)throw new Error("You must provide an ariaLabel if making this a utility.");if(!c&&!o)throw new Error("You must provide a label if this is not a utility toggle.");const u=s.createElement("span",{className:"Toggle-sage__wrapper"},s.createElement("input",{type:"checkbox",className:"Toggle-sage__input",id:l,disabled:d,"aria-checked":a,checked:a,onChange:()=>{t(!a)}}),s.createElement("div",{className:"Toggle-sage__track"},s.createElement("div",{className:"Toggle-sage__slider"},s.createElement("div",{className:"Toggle-sage__check"},s.createElement(r.Z,{icon:i.Z.Check})))));return s.createElement("label",{className:"Toggle-sage",htmlFor:l,title:c?n:void 0,"aria-label":c?n:void 0},u,c?null:s.createElement("span",{className:"Toggle-sage__label"},o))}},98596:function(e,t,a){"use strict";a.d(t,{N:function(){return o}});var s=a(32161),i=a(52924),r=a(9499);class n extends i.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,r.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,r.Gm)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var a,s,i,n,l,o;const{state:c}=e;return{...super.createResult(e,t),fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,r.Qy)(t,null==(a=c.data)?void 0:a.pages),hasPreviousPage:(0,r.ZF)(t,null==(s=c.data)?void 0:s.pages),isFetchingNextPage:"fetching"===c.fetchStatus&&"forward"===(null==(i=c.fetchMeta)||null==(n=i.fetchMore)?void 0:n.direction),isFetchingPreviousPage:"fetching"===c.fetchStatus&&"backward"===(null==(l=c.fetchMeta)||null==(o=l.fetchMore)?void 0:o.direction)}}}var l=a(7687);function o(e,t,a){const i=(0,s._v)(e,t,a);return(0,l.r)(i,n)}}}]);