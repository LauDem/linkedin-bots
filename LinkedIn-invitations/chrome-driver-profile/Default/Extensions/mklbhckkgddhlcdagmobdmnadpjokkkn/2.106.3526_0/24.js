"use strict";(self.webpackChunkguru_ui=self.webpackChunkguru_ui||[]).push([[24],{47577:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});a(33948);var n=a(67294),s=a(27760),i=a(13512),l=a(57645),r=a(93351),c=a(17029),o=a.n(c),d=a(42584),h=a.n(d),p=a(35288),u=a(31954),m=a(21576),b=a(73588),g=a(42237),E=a(94049),v=a(2803),C=a(21781),f=a(12022);const T=e=>{let{explicit:t,explicitActions:a}=e;return n.createElement("div",{className:"ghq-UserSearchResults__clear-results-button-container"},n.createElement(v.ZP,{label:"Clear results",size:v.qE.Small,onClick:()=>{a.setSearchParams(t.id,[],!1,!0),a.search(t.id,{})}}))},y=e=>{let{explicit:t,explicitActions:a}=e;const s="myfavorite",i=t.searchParams.some((e=>e.type===s));return n.createElement(C.Z,{name:"display-favorites",isToggled:i,label:"Limit results to my favorite Cards",onChange:()=>{const e=i?t.searchParams.filter((e=>e.type!==s)):[...t.searchParams,{type:s}];a.setSearchParams(o().EXT_MAIN,e),a.search(o().EXT_MAIN,{favoriteCheckBoxClicked:!i})}})},S=e=>{var t;let{explicit:a,explicitActions:s}=e;const[l]=(0,u.Z)();return n.createElement("div",{className:"ghq-UserSearchResults__card-results"},n.createElement(y,{explicit:a,explicitActions:s}),n.createElement(i.Z,{facts:a.data,isQuickSearch:a.quickSearch,factsStatus:a.status,activity:h().Activities.SEARCH,searchId:a.searchId,searchSessionId:a.searchSessionId,linkHeaders:a.linkHeaders,loadNextPage:()=>{const e=a.linkHeaders["next-page"];s.search(a.id,{linkHeader:e})},showPreview:JSON.parse(null!==(t=l.data.preferences.showFactPreview)&&void 0!==t?t:"true")}))},x=e=>{let{explicit:t,people:a,status:s}=e;const i=0===a.length&&"loading"!==s;return n.createElement("div",{className:"ghq-UserSearchResults__people-results"},i?n.createElement(g.Z,{type:r.n0.PEOPLE}):n.createElement(f.Z,{spacing:f.Z.spaces.TIGHT},n.createElement(E.Z,{data:a,searchId:t.searchId,searchSessionId:t.searchSessionId})))};var Z=()=>{var e,t;const[a,s]=(0,m.Z)(o().EXT_MAIN),{data:i,status:r}=(0,b.Z)({context:"full-search"}),c=null!==(e=null==i?void 0:i.people)&&void 0!==e?e:[],[d,h]=(0,n.useState)("CARD"),u=null!==(t=a.queryCardCount)&&void 0!==t?t:0,g=c.length,E={type:p.Z.TAB,id:"CARD",label:"Cards (".concat(u,")")},v={type:p.Z.TAB,id:"PEOPLE",label:"People (".concat(g,")")};return n.createElement("div",{className:"ghq-UserSearchResults"},n.createElement(T,{explicit:a,explicitActions:s}),n.createElement(l.m,{activeTab:d,className:"ExtensionTabsMenu__tabs",tabs:[E,v],onChange:e=>{h(e)}},"CARD"===d?n.createElement(S,{explicit:a,explicitActions:s}):n.createElement(x,{explicit:a,people:c,status:r})))},_=a(3486),P=a(13011);var N=e=>{let{auth:t}=e;const[a]=(0,P.Z)(_.Z.EXTENSION_PROFILES_ALLOWED);return a?n.createElement(Z,null):n.createElement(s.default,{auth:t})}},57645:function(e,t,a){a.d(t,{x:function(){return _},m:function(){return x}});var n=a(67294),s=a(94184),i=a.n(s),l=a(45697),r=a.n(l),c=(a(33948),a(13037)),o=a(3486),d=a(54159),h=a(35288),p=a(13011),u=a(66674),m=a(87159),b=a(9248),g=a(77917);function E(e){let{content:t,icon:a,iconColor:s,iconSize:l,isSelected:r,menuItems:d,activeTab:E,handleClick:v}=e;const[C]=(0,p.Z)(o.Z.KNOWLEDGEALERTS_ALLOWED),f=d.find((e=>e.id===E)),T=i()("ghq-tab-label",{"ghq-tab-label-active":r,"ghq-tab-label-active-highlight":r&&C,"ghq-tab-icon-container":C}),[y,S]=n.useState(!1),x=r?b.ZP.Coulis:s,Z=n.useRef(null),_=(0,u.Z)(((e,t)=>{t.current&&S(!1)}),[Z]);return n.createElement("div",{className:"ghq-TabWithDropdown"},n.createElement("div",{tabIndex:0,role:"button",className:T,ref:Z,"aria-expanded":y,"aria-label":"toggle more filters dropdown",onClick:()=>S((e=>!e)),onKeyDown:e=>{e.key===m.R.Enter&&S((e=>!e)),e.key===m.R.Escape&&S(!1)}},n.createElement(g.ZP,{icon:a,iconSize:l,iconColor:x,iconPosition:g.yT.Right},t)),y&&n.createElement("div",{ref:_,className:"ghq-TabWithDropdown__menu-container"},n.createElement(c.ZP,{className:"ghq-TabWithDropdown__menu"},d.map((e=>{if(e.type===h.Z.LABEL_ITEM)return n.createElement(c.Lb,{key:e.id},e.label);{const t=r&&f&&e.label===f.label;return n.createElement(c.sN,{selectable:!0,selected:t,key:e.id,value:e,onSelect:e=>{v(e),S(!1)}},e.label)}})))))}E.propTypes={activeTab:r().string,content:r().node,icon:r().string,iconColor:r().string,iconSize:r().number,isSelected:r().bool,handleClick:r().func,menuItems:r().arrayOf(r().shape({id:r().string,label:r().string})).isRequired},E.defaultProps={activeTab:d.Z.RECENT_CARDS_VIEWED,icon:null,iconColor:b.ZP.Vacuum,iconSize:14,handleClick:()=>{}};var v=a(33200),C=a(43814),f=a(39429);const T={left:"left",right:"right",center:"center",spaceBetween:"space-between",spaceAround:"space-around"},y={activeTab:r().string,onChange:r().func,isLoading:r().bool,alignment:r().oneOf(Object.values(T)),tabs:r().arrayOf(r().shape({id:r().string.isRequired,label:r().string,type:r().string,items:r().arrayOf(r().shape({id:r().string,label:r().string}))}))},S={activeTab:r().string};class x extends n.PureComponent{constructor(e,t){super(e,t),this.state={previousTab:e.activeTab}}getChildContext(){return{activeTab:this.props.activeTab}}handleChange(e){const{activeTab:t,onChange:a}=this.props;t!==e&&(this.setState({previousTab:t}),a(e))}render(){const{tabs:e,children:t,isReloading:a,isLoading:s,tabContent:l,hasKnowledgeAlerts:r,activeTab:c,alignment:o}=this.props;let d=c;const p=v.ZP.FORCE_MOBILE_VIEW||v.ZP.USE_EMBEDDED_GURU,u=r&&!p,b=i()("ghq-toggle-panel-header","ghq-is-aligned-".concat(o)),g=s?n.createElement("div",{className:"ghq-tabs-container__loader"},n.createElement(f.ZP,null)):t||l(d),T=i()("ghq-tabs-container",this.props.className);return n.createElement("div",{className:T,style:this.props.style,"data-testid":"tabs"},n.createElement("ul",{className:b},e.map((e=>{a&&(d=this.state.previousTab);const t=e.type&&e.type!==h.Z.TAB?e.items.some((e=>e.id===c)):e.id===c,s=i()("ghq-tab-label",{"ghq-tab-label-active":t,"ghq-tab-label-active-highlight":t&&(u||(0,C.tq)()),"ghq-tab-icon-container":u});if(!e.type||e.type===h.Z.TAB)return n.createElement("li",{tabIndex:0,role:"tab","aria-label":e.id,key:e.id,className:s,onClick:()=>{this.handleChange(e.id)},onKeyDown:t=>{t.key===m.R.Enter&&this.handleChange(e.id)}},e.content||e.label);if(e.type===h.Z.DROPDOWN){const a=e.content||e.label;return n.createElement(E,{key:e.id,popoverFilterId:"tab-with-dropdown-".concat(e.id),content:a,icon:"chevron-down",isSelected:t,menuItems:e.items,handleClick:e=>{this.handleChange(e.id)},activeTab:c})}}))),g)}}x.propTypes=y,x.childContextTypes=S;const Z={activeTab:r().string};x.alignments=T,x.defaultProps={alignment:T.left};class _ extends n.PureComponent{render(){const e=i()("ghq-tab-panel",this.props.className);return this.context.activeTab===this.props.id&&n.createElement("div",{className:e,ref:this.props.ref,"data-testid":this.props.id},this.props.children)}}_.contextTypes=Z}}]);