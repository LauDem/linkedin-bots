"use strict";(self.webpackChunkguru_ui=self.webpackChunkguru_ui||[]).push([[22],{60987:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});n(33948);var a=n(67294),o=n(23416),l=n(77110),r=n(12713),s=n.n(r),c=n(2514),i=n(29857),u=n(25108);const d=new c.Z({name:r.Collections}),m=i.Z.getFlux().actions[d.name];m||u.error("error creating actions");var p=m,g=n(47111),b=n(84801),f=n(47421),h=n(27171),C=n(82455);b.Z.register(r.CollectionsSettings,{PUT:{path:"/collections/:collectionId/settings"}});const v=new h.Z({name:r.CollectionsSettings,dataType:r.OBJECT,transformPayloadOnPostComplete:e=>{const{data:t={}}=e,{collections:n=[]}=t;return n.forEach((e=>{if(""===e.type)return e;e.settings=C.Z.getCollectionId()})),e}});v.createStore();var E=i.Z.addStore(v.store);const x=new h.Z({name:r.Collections,boundActions:[b.Z[E.getName()].PUT.action+f._COMPLETE,function(e){(t=>{const n=t.find((t=>t.id===e.context.pathVars[0]));n.roiEnabled=e.context.data.roiEnabled,n.publishingEnabled=e.context.data.publishingEnabled})(this._master.data),this._onChange()}]});x.createStore();var S=i.Z.addStore(x.store);var y=n(38906),Z=n(74490),k=n(21136),w=n(21650),_=n(39429);var N=()=>{const[{data:{contentConversionSpotCheckLeader:e,contentConversionSpotCheckCardIDs:t=[],contentConversionCollectionId:n}},c]=(0,y.Z)(),[i,u]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{preventOnLoad:!1};const[t,n]=(0,g.Z)({filterId:s().GLOBAL,store:S,actions:p,onMustLoad:t=>{e.preventOnLoad||t.get()}});return[t,n]}(),d=i.items.editData;a.useEffect((()=>{u.get()}),[]);const[{items:{data:m},headers:b,status:f},h]=(0,Z.Z)(r.NEXT_EDITOR_TESTING_TOOLS,{preventOnLoad:!0}),[C,v]=a.useState();if(!e)return null;const E=[l.S.Loading,l.S.Updating].includes(f),x=t.length,N=x?a.createElement(w.ZP,null,"Happy Testing!"):n?a.createElement(w.ZP,null,"Getting Things Ready..."):null,O=m.length,L=b[o.ZD],P=x||!n?null:a.createElement(w.ZP,null,"Loaded ",O,"/",L," Cards");return a.createElement("div",null,N,P,E?a.createElement(_.ZP,null):null,a.createElement(k.ZP,{label:"Choose Collection",name:"content-conversion-spot-check-choose-collection",value:C,onChange:e=>{v(e),c.mergeData({contentConversionCollectionId:e,contentConversionSpotCheckCardIDs:[],nextConversionSpotCheckCardIdIndex:void 0}),h.clearStore()}},d.map((e=>a.createElement(k.N_,{label:e.name,value:e.id})))))},O=n(3486),L=n(30065),P=n(31954),T=n(13011);const D=e=>{let{showTabsCloseWarning:t}=e;const n=(()=>{const[e]=(0,P.Z)();return["abellamy@getguru.com","ameyghani@getguru.com","aunger@getguru.com","ccasey@getguru.com","jfeminella@getguru.com","jplater@getguru.com","kstaaf@getguru.com","ldesmondblack@getguru.com","lmancini@getguru.com"].includes(e.data.email)?[{type:"subheader",label:"Next Editor Tools"},{name:"contentConversionSpotCheckLeader",storeInLibStore:!0,label:"Set as Content Conversion Validation Leader:",type:"checkbox",defaultValue:"false"},{name:"contentConversionSpotCheckFollower",storeInLibStore:!0,label:"Set as Content Conversion Validation Follower:",type:"checkbox",defaultValue:"false"},{type:"custom",CustomComponent:N}]:[]})(),[a]=(0,T.Z)(O.Z.EXTENSION_PROFILES_ALLOWED),o=[...n,...[{type:"subheader",label:"General"},{name:"defaultExtensionPosition",label:"Open Extension in new windows on:",type:"radio",choices:[{value:L.XB,label:"Left side"},{value:L.e7,label:"Right side"}]},{name:"hasExtensionCardTabs",label:a?"Display open Cards or profiles:":"Display multiple Cards as:",type:"radio",choices:[{value:"false",label:a?"Individually":"Individual Cards"},{value:"true",label:"Tabbed"}]},{name:"showFactPreview",type:"checkbox",label:"Show Card preview on hover",defaultValue:"true"},{name:"showContextMenu",type:"checkbox",label:"Enable Knowledge Clipper",defaultValue:"false"}],{type:"subheader",label:"Messaging"},{name:"showPinningConfirmation",type:"checkbox",label:"Display pinning confirmation",defaultValue:"true"},{name:"showQuestionConfirmation",type:"checkbox",label:"Display question confirmation",defaultValue:"true"}];return t?[...o,{name:"showTabsCloseWarning",type:"checkbox",label:"Don't warn me when attempting to close multiple tabs",defaultValue:"true",inverted:!0}]:o};var I=n(59806),B=n(81594),F=n(25686),R=n(40979),V=n(42300),A=n(99386);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U.apply(this,arguments)}const q=e=>{let{item:t,index:n}=e;const{label:o}=t;return a.createElement(A.ZP,{key:"".concat(o,"-").concat(n),level:A.Yx.H3,style:A.VH.Medium},o)},M=e=>{var t,n;let{item:o,index:l,handleUpdatePreference:r,preferences:s}=e;const{name:c,label:i,choices:u}=o,d=null!==(t=null===(n=s.data)||void 0===n?void 0:n.preferences[c])&&void 0!==t?t:"true";return a.createElement("div",{className:"ghq-Settings__radiogroup"},a.createElement(V.S,{groupLabel:i,key:"".concat(i,"-").concat(l)},u.map(((e,t)=>a.createElement(V.Z,{id:e.label,isChecked:e.value===d,label:e.label,name:i,key:"".concat(e.label,"-").concat(t),onChange:()=>r(c,e.value)})))))},H=e=>{var t;let{item:n,index:o,handleUpdatePreference:l,preferences:r}=e;const[s,c]=(0,y.Z)(),{label:i,storeInLibStore:u,defaultValue:d,inverted:m,name:p}=n,g=u?JSON.stringify(Boolean(s.data[p]))||d:(null===(t=r.data)||void 0===t?void 0:t.preferences[p])||d,b=m?{isChecked:!JSON.parse(g),onChange:e=>{u?c.mergeData({[p]:!e}):l(p,JSON.stringify(!e))}}:{isChecked:JSON.parse(g),onChange:e=>{u?c.mergeData({[p]:e}):l(p,JSON.stringify(e))}};return a.createElement(R.Z,U({key:"".concat(i,"-").concat(o),name:"".concat(i,"-").concat(o),label:i},b))};var J=()=>{var e,t;const[n]=(0,P.Z)(),o=n.data.email,[l,r]=(0,B.Z)(),s=null===(e=null===(t=l.data.preferences)||void 0===t?void 0:t.hasExtensionCardTabs)||void 0===e||e,c=D({showTabsCloseWarning:s}),i=(e,t)=>{r.setPreference(e,t),r.savePreference(e,t),I.Z.createToast({content:"Preference updated",id:"UserSettings-".concat(o)})},u=c.map(((e,t)=>{const{type:n}=e;if("subheader"===n)return a.createElement(q,{item:e,index:t});if("radio"===n)return a.createElement(M,{item:e,index:t,handleUpdatePreference:i,preferences:l});if("checkbox"===n)return a.createElement(H,{item:e,index:t,handleUpdatePreference:i,preferences:l});if("custom"===n){const{CustomComponent:t}=e;return a.createElement(t,null)}return null}));return a.createElement("div",{className:"ghq-Settings"},a.createElement(F.FN,{className:"ghq-Settings__toast",filter:"UserSettings-".concat(o)}),a.createElement(a.Fragment,null,a.createElement("section",{className:"ghq-Settings__section"},a.createElement(A.ZP,{level:A.Yx.H2,style:A.VH.Large},"Preferences"),u)))}},81594:function(e,t,n){n.d(t,{Z:function(){return r}});n(33948);var a=n(73424),o=n(27949),l=n(5257);function r(){const[e,t]=(0,o.Z)({store:l.Z,actions:a.Z});return[e,t]}},42300:function(e,t,n){n.d(t,{S:function(){return c}});var a=n(67294),o=n(94184),l=n.n(o),r=n(9248),s=n(65680);const c=e=>{let{groupLabel:t,children:n}=e;return a.createElement("fieldset",{className:"fieldset-sage"},a.createElement("legend",{className:"legend-sage"},t),n)};t.Z=e=>{let{label:t,disabled:n,name:o,onChange:c,isChecked:i,id:u,icon:d}=e;const m=l()("RadioButton-sage__input",{"FormControl-sage--is-disabled":n});return a.createElement("label",{className:"RadioButton-sage"},a.createElement("input",{className:m,disabled:n,checked:i,id:u,name:o,type:"radio",onChange:()=>{c(!i)}}),a.createElement("span",{className:"RadioButton-sage__label"},d?a.createElement("span",{className:"RadioButton-sage__icon"},a.createElement(s.Z,{icon:d,size:17,color:r.ZP.Twilight})):null,t))}},21136:function(e,t,n){n.d(t,{N_:function(){return f.Z},De:function(){return h.Z},$A:function(){return g.$},ZP:function(){return S}});n(33948);var a=n(67294),o=n(94184),l=n.n(o),r=n(87159),s=n(57682),c=n(44214),i=n(76030),u=n(65680);const d=e=>{let{clearAfterSelect:t=!1,disabled:n=!1,isExpanded:o=!1,onClick:l}=e;const{selectedOption:r}=(0,c.n)(),i=Boolean(r.avatar||r.initials),d=Boolean(r.icon||r.customIcon);return o||t||!i&&!d?null:a.createElement("button",{"aria-hidden":"true","aria-label":"combobox prepend trigger",className:"ComboBoxTrigger-sage__prepend",disabled:n,tabIndex:-1,type:"button",onClick:l},i?a.createElement(s.Z,{alt:r.avatarDescription,initials:r.initials,size:s.Z.sizes.XSMALL,src:r.avatar}):a.createElement(u.Z,{color:r.iconColor,customColor:r.customColor,icon:r.icon}))},m=(e,t)=>{let{autofocus:n=!1,clearAfterSelect:o=!1,disabled:l=!1,isExpanded:r=!1,listName:s,onChange:m,onClick:p,onFocus:g,onKeyDown:b,placeholder:f="",value:h}=e;const{focusedOption:C,name:v}=(0,c.n)();return a.createElement("div",{className:"ComboBoxTrigger-sage"},a.createElement(d,{clearAfterSelect:o,disabled:l,isExpanded:r,onClick:p}),a.createElement("input",{autoFocus:n,"aria-activedescendant":C&&C.value,"aria-autocomplete":"none","aria-controls":s,"aria-expanded":r,"aria-haspopup":"listbox",autoComplete:"off",className:"ComboBoxTrigger-sage__input FormControl-sage__input",disabled:l,id:v,placeholder:f,ref:t,role:"combobox",type:"text",value:h,onChange:m,onClick:p,onFocus:g,onKeyDown:b}),a.createElement("button",{"aria-hidden":"true","aria-label":"combobox trigger",className:"ComboBoxTrigger-sage__button",disabled:l,tabIndex:-1,type:"button",onClick:p},a.createElement(u.Z,{icon:r?i.Z.ChevronUp:i.Z.ChevronDown,size:20})))};var p=(0,a.forwardRef)(m),g=n(48277),b=n(26274),f=n(88906),h=n(36913),C=n(72854),v=n(79689),E=n(26965),x=n(48863);var S=(0,a.forwardRef)(((e,t)=>{let{children:n,clearAfterSelect:o=!1,disabled:s=!1,errorMessage:i="",helperText:u=null,label:d,name:m,onBlur:f=(()=>{}),onFocus:h=(()=>{}),onChange:S=(()=>{}),onInputChange:y,placeholder:Z,required:k=!1,requirementLabel:w,value:_="",emptyState:N,autofocus:O=!1}=e;const L=(0,a.useRef)(null),[P,T]=(0,a.useState)(""),[D,I]=(0,a.useState)(0),[B,F]=(0,a.useState)(!1),[R,V]=(0,a.useState)({label:"",value:""}),{optionMap:A,filteredOptions:U,setFilteredOptions:q}=(0,v.Z)({children:n}),M=e=>{q(A),T(o?"":e||R.label),I(0),F(!1)};(0,a.useEffect)((()=>{let e=A.find((e=>e.value===_));if(e){var t;if(V(e),o)return M(),void(null===(t=L.current)||void 0===t||t.focus());B||T(e.label)}else V({label:"",value:""})}),[A,_]);const H=()=>{M(),f()},J=e=>{S(e.value),V(e),M(e.label)},j=l()("ComboBox-sage FormControl-sage",{"FormControl-sage--is-disabled":s,"ComboBox-sage--has-errors":Boolean(i)&&!B}),z="".concat(m,"-list");return a.createElement("div",{className:j},a.createElement(E.Z,{label:d,name:m,requirementLabel:w}),a.createElement(c.Z,{filteredOptions:U,focusedOption:U[D],name:m,selectedOption:R,setFocusedIndex:I,setSelectedOption:J},a.createElement("div",{className:"ComboBox-sage__container FormControl-sage__container",onBlur:e=>{(0,b.r)(e)&&H()}},a.createElement(p,{autofocus:O,clearAfterSelect:o,disabled:s,isExpanded:B,listName:z,placeholder:Z,ref:L,value:P,onChange:e=>{const t=e.target.value;if(T(t),y)y(t);else{const e=(e=>e.length?A.reduce(((t,n)=>{const{label:a}=n,o=a.toLowerCase(),l=e.toLowerCase();return o.includes(l)&&t.push(n),t}),[]):A)(t);q(e),I(0)}B||F(!0)},onClick:()=>{var e;B||(null===(e=L.current)||void 0===e||e.select());F(!B)},onFocus:h,onKeyDown:e=>{const t=U.length-1;let n=D;switch(e.key){case r.R.ArrowDown:e.preventDefault(),B&&(n=D===t?0:D+1),F(!0),I(n);break;case r.R.ArrowUp:e.preventDefault(),n=0===D?t:D-1,F(!0),I(n);break;case r.R.Enter:e.preventDefault();const a=U[D];B&&a&&J(a);break;case r.R.Home:e.preventDefault(),F(!0),I(0);break;case r.R.End:e.preventDefault(),F(!0),I(t);break;case r.R.Tab:case r.R.Escape:H()}}}),a.createElement(C.Z,{isExpanded:B,listName:z,maxPopoverHeight:g.E.Small,parentRef:L,emptyState:N},n))),a.createElement("input",{readOnly:!0,disabled:s,name:m,required:k,tabIndex:-1,type:"hidden",value:_}),a.createElement(x.Z,{text:i||u,hasErrors:Boolean(i)}))}))}}]);