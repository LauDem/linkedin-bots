Okta.RuntimeMessage=function(){var a=Okta._okta;var t=a.isNumber;var e=chrome.runtime.onMessage;var r=chrome.tabs.sendMessage;var s=Okta.Constants.ModalEvents;var n={};function i(a,e){var n="Okta.RuntimeMessage::frameModuleMessageHandler: ";a.data=a.data||{};switch(a.action){case s.ACTIONS.PROMPT_AUTOFILL:{if(e.frameId>0){Log.info(n+"send promptAutoFill message to top doc");a.data.frameId=e.frameId;r(e.tab.id,a,{frameId:0})}else{Log.warn(n+"do not send promptAutoFill message when sender is not iframe")}break}case s.ACTIONS.AUTOFILL:{var t=a.data.frameId;if(t>0){Log.info(n+"send autoFill message to target iframe");r(e.tab.id,a,{frameId:t})}else{Log.warn(n+"missing target frameId, do not send autoFill message")}break}default:Log.warn(n+"unknown action");break}}function o(a,e){var n="Okta.RuntimeMessage::runtimeMessageHandler: ";if(!a){Log.warn(n+"missing msg, skip");return}if(!e||!e.tab||!t(e.tab.id)){Log.warn(n+"invalid sender, skip");return}switch(a.module){case s.IFRAME_MODULE:{i(a,e);break}default:Log.warn(n+"unknown module");break}}n.initialize=function(){e.addListener(o)};return n};