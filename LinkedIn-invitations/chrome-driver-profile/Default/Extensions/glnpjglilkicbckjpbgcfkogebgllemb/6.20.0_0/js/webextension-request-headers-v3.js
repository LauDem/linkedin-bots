Okta.RequestHeaders=function(e,a,n,t){var r={};var i=Okta.RequestHeadersBase(e,a,n,t);var s=Okta.fn.url.getOktaDomains;var u=Okta.fn.url.getSubDomain;var l=Okta.fn.url.getOktaDomainsRegexp;var o=Okta.fn.storage.syncStorageData;var v=Okta.fn.bg.getPendingConsentAccount;var d=5;var c="USER_PINNED_ON_TOOLBAR";var g="X-Okta-Plugin-Options";var O=i.HeaderConstants;var f=i.getStorageCache();f.userPinnedOnToolbar={key:c,val:false};function E(e){var a=v(f.dbgPluginSettings.val,f.allowListedAccounts.val,e?f.domains.val:null);return{header:O.EXTENDED_PLUGIN_ACCOUNTS_USER_AGENT_KEY,value:a,operation:"set"}}function _(){return{header:O.EXTENDED_USER_AGENT_KEY,value:O.PLUGIN_USER_AGENT_VALUE,operation:"set"}}function m(){var e={pinned:!!f.userPinnedOnToolbar.val};return{header:g,value:JSON.stringify(e),operation:"set"}}function N(){var e=s().slice(),a=f.domains.val&&u(f.domains.val.customDomain),n=1,t=[],r=1,i=[r];function o(e,a){++n;a||i.push(n);t.push({id:a?r:n,action:{type:"modifyHeaders",requestHeaders:[_(),E(a),m()]},condition:{regexFilter:e,resourceTypes:["main_frame"]}})}while(e.length){o(l(e.splice(0,d)))}if(a){o(l([a]),true)}chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:i,addRules:t})}r.initialize=function(){o(f,N);i.initialize()};return r};